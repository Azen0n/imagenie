{% load static %}
<!doctype html>

<html lang="en">
{% block title %}{% endblock %}

<body>
{% include 'navbar.html' %}

<div class="container-fluid h-100">
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2">
            <div class="plate">
                <p class="list-title">–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</p>
                <hr>
                <a class="list-entry" href="/">–ë–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è</a>
                <a class="list-entry" href="/">–§–∏–ª—å—Ç—Ä –ì–∞—É—Å—Å–∞</a>
            </div>
        </div>
        <div class="col-5">
            <div class="plate">
                <div class="inline-category title">–ë–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è</div>
                <div class="inline-category"><p><a class="category" href="/">–ü—Ä–æ—Å—Ç–µ–π—à–∏–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã</a>
                    <a class="category">&gt;</a> <a class="category" href="/">–ë–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è</a></p>
                </div>
            </div>
            <div class="plate">
                <div class="description"><p>–ü—Ä–æ—Ü–µ—Å—Å –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ –ø–µ—Ä–µ–≤–æ–¥ —Ü–≤–µ—Ç–Ω–æ–≥–æ (–∏–ª–∏ –≤ –≥—Ä–∞–¥–∞—Ü–∏—è—Ö —Å–µ—Ä–æ–≥–æ)
                    –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –¥–≤—É—Ö—Ü–≤–µ—Ç–Ω–æ–µ —á–µ—Ä–Ω–æ-–±–µ–ª–æ–µ. –ì–ª–∞–≤–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —Ç–∞–∫–æ–≥–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —è–≤–ª—è–µ—Ç—Å—è –ø–æ—Ä–æ–≥ \(T\)
                    ‚Äî –∑–Ω–∞—á–µ–Ω–∏–µ, —Å –∫–æ—Ç–æ—Ä—ã–º —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —è—Ä–∫–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –ø–∏–∫—Å–µ–ª—è. –ü–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Å—Ä–∞–≤–Ω–µ–Ω–∏—è, –ø–∏–∫—Å–µ–ª—é
                    –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ \(0\) –∏–ª–∏ \(1\).</p>
                    <p>$$\begin{cases}1,\text{if }\text{brightness}\ge T\\ 0\text{ otherwise}\end{cases}$$</p>
                    <p>$$\text{brightness}=0.299\cdot\text{Red}+0.587\cdot\text{Green}+0.114\cdot\text{Blue}$$</p>
                    <p>–°—É—â–µ—Å—Ç–≤—É—é—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ
                        —É—Å–ª–æ–≤–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å –Ω–∞ –¥–≤–µ –≥—Ä—É–ø–ø—ã ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ. –í –ø–µ—Ä–≤–æ–º —Å–ª—É—á–∞–µ –≤–µ–ª–∏—á–∏–Ω–∞ –ø–æ—Ä–æ–≥–∞
                        –æ—Å—Ç–∞–µ—Ç—Å—è
                        –Ω–µ–∏–∑–º–µ–Ω–Ω–æ–π –≤ —Ç–µ—á–µ–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏. –í–æ –≤—Ç–æ—Ä–æ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –æ–±–ª–∞—Å—Ç–∏, –≤
                        –∫–∞–∂–¥–æ–π –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥.</p>
                    –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ —Ä–∞–¥–∏–∫–∞–ª—å–Ω–æ–µ —É–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Å –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è
                    —Ä–∞–±–æ—Ç–∞—Ç—å. –ü—Ä–æ—Å—Ç–æ –≥–æ–≤–æ—Ä—è, —É–¥–∞—á–Ω–∞—è –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏—è —Å–∏–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç –ø–æ—Å–ª–µ–¥—É—é—â—É—é —Ä–∞–±–æ—Ç—É —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º. –°
                    –¥—Ä—É–≥–æ–π —Å—Ç–æ—Ä–æ–Ω—ã, –Ω–µ—É–¥–∞—á–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Ç–∏ –∫ –∏—Å–∫–∞–∂–µ–Ω–∏—è–º, —Ç–∞–∫–∏–º, –∫–∞–∫ —Ä–∞–∑—Ä—ã–≤—ã –≤
                    –ª–∏–Ω–∏—è—Ö, –ø–æ—Ç–µ—Ä—è –∑–Ω–∞—á–∞—â–∏—Ö –¥–µ—Ç–∞–ª–µ–π, –Ω–∞—Ä—É—à–µ–Ω–∏–µ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –æ–±—ä–µ–∫—Ç–æ–≤, –ø–æ—è–≤–ª–µ–Ω–∏–µ —à—É–º–∞ –∏ –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ
                    –∏—Å–∫–∞–∂–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ –∏–∑-–∑–∞ –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç–µ–π —Ñ–æ–Ω–∞. –†–∞–∑–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã –±–∏–Ω–∞—Ä–∏–∑–∞—Ü–∏–∏ –∏–º–µ—é—Ç —Å–≤–æ–∏ —Å–ª–∞–±—ã–µ –º–µ—Å—Ç–∞:
                    —Ç–∞–∫, –Ω–∞–ø—Ä–∏–º–µ—Ä, –º–µ—Ç–æ–¥ –û—Ü—É –º–æ–∂–µ—Ç –ø—Ä–∏–≤–æ–¥–∏—Ç—å –∫ —É—Ç—Ä–∞—Ç–µ –º–µ–ª–∫–∏—Ö –¥–µ—Ç–∞–ª–µ–π –∏ ¬´—Å–ª–∏–ø–∞–Ω–∏—é¬ª –±–ª–∏–∑–ª–µ–∂–∞—â–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤,
                    –∞ –º–µ—Ç–æ–¥ –ù–∏–±–ª—ç–∫–∞ –≥—Ä–µ—à–∏—Ç –ø–æ—è–≤–ª–µ–Ω–∏–µ–º –ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –≤ —Å–ª—É—á–∞–µ –Ω–µ–æ–¥–Ω–æ—Ä–æ–¥–Ω–æ—Å—Ç–µ–π —Ñ–æ–Ω–∞ —Å –Ω–∏–∑–∫–æ–π
                    –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å—é. –û—Ç—Å—é–¥–∞ —Å–ª–µ–¥—É–µ—Ç, —á—Ç–æ –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω –≤ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏.
                    <div class="text-end">
                        <a class="description-source" href="https://habr.com/ru/post/278435/">–ò—Å—Ç–æ—á–Ω–∏–∫</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2"></div>
        <div class="col-5">
            <div class="plate">
                <div class="title">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</div>
            </div>
            <div class="plate">
                <div class="wrapper">
                    <div class="grid-container" id="grid-container"></div>
                    <div class="pixel-info">
                        <div class="large-element" id="large-element"></div>
                        <div class="color-code" id="color-code"></div>
                    </div>
                    <div class="grid-container" id="new-grid-container"></div>
                </div>
                <div class="btn-arrows">
                    <button class="btn bg-blue text-white" id="back">ü°†</button>
                    <button class="btn bg-blue text-white" id="forward">ü°¢</button>
                </div>
                <div id="instructions" class="instructions"></div>
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2">
            <div class="plate">
                <p class="list-title">–Ø–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                <hr>
                <div class="nav flex-column nav-pills" role="tablist" aria-orientation="vertical">
                    <button class="nav-link active" data-bs-target="#python" type="button" role="tab"
                            data-bs-toggle="pill">
                        Python
                    </button>
                    <button class="nav-link mb-3" data-bs-target="#csharp" type="button" role="tab"
                            data-bs-toggle="pill">
                        C#
                    </button>
                </div>
            </div>
        </div>
        <div class="col-5">
            <div class="plate">
                <div class="title">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</div>
            </div>
            <div class="tab-content">
                <div class="tab-pane fade show active" id="python" role="tabpanel">
                    <div class="plate">
                        <div class="mx-3"><pre><code class="language-python">from PIL import Image, ImageDraw


def binarization(image_path: str, threshold: int) -> Image:
    image = Image.open(image_path)
    image = image.convert('L')
    pix = image.load()
    new_image = Image.new(size=image.size, mode='L')
    draw = ImageDraw.Draw(new_image)
    for y in range(image.width):
        for x in range(image.height):
            if (pix[x, y] >= threshold):
                draw.point((x, y), 255)
            else:
                draw.point((x, y), 0)
    return new_image</code></pre>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="csharp" role="tabpanel">
                    <div class="plate">
                        <div class="mx-3"><pre><code class="language-csharp">using System;
using System.Drawing;

private Bitmap binarization(Bitmap image, int threshold)
{
    Bitmap newImage = new Bitmap(image.Width, image.Height);
    for (int y = 0; y < image.Height; y++)
    {
        for (int x = 0; x < image.Width; x++)
        {
            var pixel = image.GetPixel(x, y);
            double brightness = 0.299 * pixel.R + 0.587 * pixel.G + 0.114 * pixel.B;
            if (brightness > threshold)
            {
                newImage.SetPixel(x, y, Color.White);
            }
            else
                {
                    newImage.SetPixel(x, y, Color.Black);
                }
        }
    }
    return newImage;
}</code></pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2">
            <div class="plate">
                <p class="list-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</p>
                <hr>
                <div class="mx-3">
                    <div class="mb-1">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</div>
                    <input class="form-control text-start w-100" type="file" id="image-file">
                </div>
                <div class="mx-3 mt-2">
                    <div class="mb-1">–ü–æ—Ä–æ–≥–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ</div>
                    <input class="form-control w-100" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ" id="param1">
                </div>
                <div class="mx-3 mt-4 mb-3">
                    <button class="btn bg-blue text-start text-white w-100" id="process-btn" name="binarization">
                        –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å
                    </button>
                </div>
            </div>
        </div>
        <div class="col-5">
            <div class="plate">
                <div class="title">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>
            </div>
            <div class="plate">
                <div class="image-container p-2">
                    <div class="m-2">
                        <p class="description-label">–û—Ä–∏–≥–∏–Ω–∞–ª</p>
                        <img class="image-element img-fluid" src="{% static '../static/img/original.png' %}"
                             alt="Image (original)"
                             id="img-original">
                    </div>
                    <div class="m-2">
                        <p class="description-label">–ü–æ—Å–ª–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</p>
                        <img class="image-element img-fluid" src="{% static '../static/img/binarization.png' %}"
                             alt="Image (processed)"
                             id="img-processed">
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2"></div>
        <div class="col-5">
            <div class="plate">
                <div class="title">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</div>
            </div>
            <div class="plate">
                <div class="description">
                    <ol>
                        <li>Gonzalez, Rafael C. & Woods, Richard E. (2002). Thresholding. In Digital Image Processing,
                            pp. 760‚Äì785. Pearson Education. ISBN 81-7808-629-8
                        </li>
                    </ol>
                </div>
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>

    {% include 'footer.html' %}
</div>

<script type="text/javascript">window.CSRF_TOKEN = "{{ csrf_token }}";</script>
<script src="{% static '../static/js/binarization-visualization.js' %}"></script>
<script src="{% static '../static/js/ajax-process-image.js' %}"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="{% static '../static/js/prism.js' %}"></script>
<script src="{% static '../static/bootstrap/js/bootstrap.min.js' %}"></script>
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js'></script>
</body>

</html>