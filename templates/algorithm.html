{% load static %}
<!doctype html>

<html lang="en">
{% include 'head.html' with title=article.title|add:" ‚Äî Imagenie" %}

<body>
{% include 'navbar.html' %}

<div class="container-fluid h-100">
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2">
            <div class="plate">
                <p class="list-title">–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</p>
                <hr>
                <a class="list-entry" href="#theory">–¢–µ–æ—Ä–∏—è</a>
                <a class="list-entry" href="#visualization">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</a>
                <a class="list-entry" href="#tests">–¢–µ—Å—Ç—ã</a>
                <a class="list-entry" href="#implementation">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</a>
                <a class="list-entry" href="#processing">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</a>
                <a class="list-entry" href="#further-reading">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</a>
            </div>
        </div>
        <div class="col-5">
            <div class="plate">
                <div class="inline-category title" id="theory">{{ article.title }}</div>
            </div>
            <div class="plate">
                <div class="description">
                    {{ article.theory }}
                    <div class="text-end">
                        <a class="description-source" href="{{ article.theory_source }}">–ò—Å—Ç–æ—á–Ω–∏–∫</a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2"></div>
        <div class="col-5">
            <div class="plate">
                <div class="title" id="visualization">–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è</div>
            </div>
            <div class="plate">
                <div class="wrapper">
                    <div class="grid-container" id="grid-container"></div>
                    <div class="pixel-info">
                        <div class="large-element" id="large-element"></div>
                        <div class="color-code" id="color-code"></div>
                    </div>
                    <div class="grid-container" id="new-grid-container"></div>
                </div>
                <div class="btn-arrows">
                    <button class="btn bg-blue text-white" id="back">ü°†</button>
                    <button class="btn bg-blue text-white pulse-btn" id="forward">ü°¢</button>
                </div>
                <div id="instructions" class="instructions"></div>
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2"></div>
        <div class="col-5">
            <div class="plate">
                <div class="title" id="tests">–¢–µ—Å—Ç—ã</div>
            </div>
            <div class="plate">
                <div class="description">
                    {% if number_of_tests %}
                        –¢–µ—Å—Ç—ã –ø–æ —Ç–µ–º–µ –¥–ª—è —Å–∞–º–æ–ø—Ä–æ–≤–µ—Ä–∫–∏.
                        <div>
                        <a class="btn bg-blue text-white mt-3" href="{{ article.id }}/tests">
                            –ü–µ—Ä–µ–π—Ç–∏ –∫ —Ç–µ—Å—Ç–∞–º
                        </a>
                        </div>
                    {% else %}
                        –ü–æ —Ç–µ–º–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤.
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2">
            <div class="plate">
                <p class="list-title">–Ø–∑—ã–∫–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                <hr>
                <div class="nav flex-column nav-pills" role="tablist" aria-orientation="vertical">
                    {% for lang in code %}
                        <button class="nav-link{% if forloop.first %} active{% endif %} {% if forloop.last %} mb-3{% endif %}"
                                data-bs-target="#{{ lang.language_class }}" type="button" role="tab"
                                data-bs-toggle="pill">
                            {{ lang.language }}
                        </button>
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-5">
            <div class="plate">
                <div class="title" id="implementation">–†–µ–∞–ª–∏–∑–∞—Ü–∏—è</div>
            </div>
            <div class="tab-content">
                {% for lang in code %}
                    <div class="tab-pane fade{% if forloop.first %} show active{% endif %}"
                         id="{{ lang.language_class }}"
                         role="tabpanel">
                        <div class="plate">
                            <div class="mx-3">
                                <pre><code class="{{ lang.language_class }}">{{ lang.implementation }}</code></pre>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2">
            <div class="plate">
                <p class="list-title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</p>
                <hr>
                <div class="mx-3">
                    <div class="mb-1">–ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</div>
                    <input class="form-control text-start w-100" type="file" id="image-file">
                </div>
                {% for param in parameters %}
                    <div class="mx-3 mt-2">
                        <div class="mb-1">{{ param.name }}</div>
                        <input class="form-control w-100" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ"
                               id="param{{ forloop.counter }}">
                    </div>
                {% endfor %}
                <div class="mx-3 mt-4 mb-3">
                    <button class="btn bg-blue text-start text-white w-100" id="process-btn"
                            name="{{ article.lower_en_title }}">
                        –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å
                    </button>
                </div>
            </div>
        </div>
        <div class="col-5">
            <div class="plate">
                <div class="title" id="processing">–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>
            </div>
            <div class="plate">
                <div class="image-container p-2">
                    <div class="m-2">
                        <p class="description-label">–û—Ä–∏–≥–∏–Ω–∞–ª</p>
                        <img class="image-element img-fluid" src="{% static article.image_before %}"
                             alt="Image (original)"
                             id="img-original">
                    </div>
                    <div class="m-2">
                        <p class="description-label">–ü–æ—Å–ª–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è</p>
                        <img class="image-element img-fluid" src="{% static article.image_after %}"
                             alt="Image (processed)"
                             id="img-processed">
                    </div>
                </div>
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>
    <div class="row bg-gray">
        <div class="col-2"></div>
        <div class="col-2"></div>
        <div class="col-5">
            <div class="plate">
                <div class="title" id="further-reading">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</div>
            </div>
            <div class="plate">
                <div class="sources">
                    {% for source in further_reading %}
                        <div class="instruction-number">{{ forloop.counter }}</div>
                        <div class="source-text">{{ source.name }}</div>
                        <img class="img-fluid" src="{% static source.image %}" alt="{{ source.get_language_display }}">
                    {% endfor %}
                </div>
            </div>
        </div>
        <div class="col-2"></div>
        <div class="col-1"></div>
    </div>
</div>
{% include 'footer.html' %}

<script type="text/javascript">window.CSRF_TOKEN = "{{ csrf_token }}";</script>
<script src="{% static '../static/js/visualizer.js' %}"></script>
{% for script in scripts %}
    <script src="{% static script.path %}"></script>
{% endfor %}
<script src="{% static '../static/js/ajax-process-image.js' %}"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="{% static '../static/js/prism.js' %}"></script>
<script src="{% static '../static/bootstrap/js/bootstrap.min.js' %}"></script>
<script type='text/javascript' src='https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js'></script>
</body>

</html>